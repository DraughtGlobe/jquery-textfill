/*
  textfill
 @name      jquery.textfill.js
 @author    Russ Painter
 @author    Yu-Jie Lin
 @author    Alexandre Dantas
 @version   0.6.0
 @date      2014-08-19
 @copyright (c) 2014 Alexandre Dantas
 @copyright (c) 2012-2013 Yu-Jie Lin
 @copyright (c) 2009 Russ Painter
 @license   MIT License
 @homepage  https://github.com/jquery-textfill/jquery-textfill
 @example   http://jquery-textfill.github.io/jquery-textfill/index.html

 ( This is an unmerged fork version from: https://github.com/DraughtGlobe/jquery-textfill )
*/
(function(h){h.fn.textfill=function(p){function f(){a.debug&&"undefined"!=typeof console&&"undefined"!=typeof console.debug&&console.debug.apply(console,arguments)}function q(){"undefined"!=typeof console&&"undefined"!=typeof console.warn&&console.warn.apply(console,arguments)}function r(c,a,d,g,e,k){function b(a,c){var b=" / ";a>c?b=" > ":a==c&&(b=" = ");return b}f("[TextFill] "+c+" { font-size: "+a.css("font-size")+",Height: "+a.height()+"px "+b(a.height(),d)+d+"px,Width: "+a.width()+b(a.width(),
g)+g+",minFontPixels: "+e+"px, maxFontPixels: "+k+"px }")}function n(a,b,d,g,e,k,f,l,h){r(a,b,e,k,f,l);a=l;e=!1;do{b.css("font-size",a+"px");0<h&&b.parent().css("line-height",h*a+"px");if(d.call(b)<=g){e=!0;break}a=Math.floor((f+a)/2)}while(f<=a-1);return e?a:l}var a=h.extend({debug:!1,maxFontPixels:40,minFontPixels:4,innerTag:"span",widthOnly:!1,success:null,callback:null,fail:null,complete:null,explicitWidth:null,explicitHeight:null,changeLineHeight:!1},p);f("[TextFill] Start Debug");this.each(function(){var c=
h(a.innerTag+":visible:first",this);var b=h(this);if(a.explicitHeight)b=a.explicitHeight;else{var d=parseFloat(b.css("max-height"));b=!isNaN(d)&&d>b.height()?d:b.height()}d=h(this);if(a.explicitWidth)d=a.explicitWidth;else var g=parseFloat(d.css("max-width")),d=!isNaN(g)&&g>d.width()?g:d.width();var g=c.css("font-size");var e=c.css("line-height");"px"===(e+"").substr(-2)?e=parseFloat(e.substr(0,e.length-2))/parseFloat(g):isNaN(e)&&(e=1);f("[TextFill] Inner text: "+c.text());f("[TextFill] All options: ",
a);f("[TextFill] Maximum sizes: { Height: "+b+"px, Width: "+d+"px }");var k=a.minFontPixels,m=0>=a.maxFontPixels?b:a.maxFontPixels,l=void 0;a.widthOnly||(l=n("Height",c,h.fn.height,b,b,d,k,m,a.changeLineHeight?e:0));k=n("Width",c,h.fn.width,d,b,d,k,m,a.changeLineHeight?e:0);a.widthOnly?(c.css({"font-size":k,"white-space":"nowrap"}),a.changeLineHeight&&c.parent().css("line-height",e*k+"px")):(l=Math.min(l,k),c.css("font-size",l),a.changeLineHeight&&c.parent().css("line-height",e*l+"px"));f("[TextFill] Finished { Old font-size: "+
g+", New font-size: "+c.css("font-size")+" }");c.width()>d||c.height()>b&&!a.widthOnly?(c.css("font-size",g),a.fail&&a.fail(this),f("[TextFill] Failure { Current Width: "+c.width()+", Maximum Width: "+d+", Current Height: "+c.height()+", Maximum Height: "+b+" }")):a.success?a.success(this):a.callback&&(q("callback is deprecated, use success, instead"),a.callback(this))});a.complete&&a.complete(this);f("[TextFill] End Debug");return this}})(window.jQuery);
